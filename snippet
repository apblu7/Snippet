import com.google.common.cache.Cache;
import com.google.common.cache.CacheBuilder;

import java.util.concurrent.TimeUnit;

public class RetryContextHolder {

    private static final Cache<String, Integer> retryCountCache =
            CacheBuilder.newBuilder()
                    .expireAfterWrite(1, TimeUnit.MINUTES)
                    .build();

    public static void setRetryCount(String contextName, int count) {
        retryCountCache.put(contextName, count);
    }

    public static Integer getRetryCount(String contextName) {
        return retryCountCache.getIfPresent(contextName);
    }
}