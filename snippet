Map<String, List<Map<String, Object>>> grouped = list.stream()
    .collect(Collectors.groupingBy(m -> {
        String k1 = String.valueOf(m.getOrDefault("key1", ""));
        String k2 = String.valueOf(m.getOrDefault("key2", ""));
        return k1 + "_" + k2;
    }));

for (List<Map<String, Object>> group : grouped.values()) {
    String json = mapper.writeValueAsString(group);
    updateJsonInDatabase(json);
}