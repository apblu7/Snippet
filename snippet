import java.util.concurrent.ConcurrentHashMap;

public class RetryContextHolder {

    private static final ConcurrentHashMap<Long, Integer> retryCountMap = new ConcurrentHashMap<>();

    // 현재 스레드 기준으로 저장
    public static void setRetryCountForCurrentThread(int count) {
        retryCountMap.put(Thread.currentThread().getId(), count);
    }

    // 현재 스레드 기준으로 조회
    public static Integer getRetryCountForCurrentThread() {
        return retryCountMap.get(Thread.currentThread().getId());
    }
}