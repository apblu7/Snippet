@Aspect
@Component
public class ServiceLogAspect {

    private static final Logger log = LoggerFactory.getLogger(ServiceLogAspect.class);

    @Around("execution(* com.example..*.*(..)) && !@within(org.apache.ibatis.annotations.Mapper)")
    public Object logServiceCall(ProceedingJoinPoint joinPoint) throws Throwable {
        String methodName = joinPoint.getSignature().toShortString();
        log.info("START: {}", methodName);
        try {
            Object result = joinPoint.proceed();
            log.info("END: {}", methodName);
            return result;
        } catch (Throwable t) {
            log.error("ERROR in {}: {}", methodName, t.getMessage());
            throw t;
        }
    }
}